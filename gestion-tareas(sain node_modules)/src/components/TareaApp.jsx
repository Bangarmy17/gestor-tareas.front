import { useEffect, useState } from "react";
import { listTarea } from "../services/TareaService";
import { TareaGrid } from "./TareaGrid";
import { TareaForm } from "./TareaForm";

export const TareaApp = () => {
    const [tareas, setTareas] = useState([]);
    useEffect(() => {
        const result = listTarea();
        setTareas(result);
    }, []);
    const handlerAddTarea = (tarea) => {
        setTareas([...tareas,{...tarea}]);
    }
    const handlerRemoveTarea = (id) => {
        setTareas(tareas.filter(tarea => tarea.id != id));
    };
    return (
        <>
            <h1>Gestor de tareas</h1>
            <div>
                <TareaForm handlerAdd={handlerAddTarea}/>
            </div>
            <div>
                <TareaGrid tareas={tareas} handlerRemove={handlerRemoveTarea} />
            </div>


        </>
    )
}